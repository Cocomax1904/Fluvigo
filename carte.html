<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fluvigo – Carte</title>
  <link rel="icon" href="assets/img/logo-icon.png" type="image/png"/>

  <!-- CSS principal -->
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Font Awesome pour tes icônes -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />

  <!-- 1) Google Maps JavaScript API -->
  <script
    async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5j7Wnn9jvvqBUZMv2ianfTF1K3ui-h9M&callback=initMap">
  </script>
</head>
<body class="page-wrapper">

  <!-- 2) Conteneur de la carte -->
  <div id="map-container">
    <div id="map"></div>

    <!-- 3) Contrôles flottants -->
    <div id="map-controls">
      <!-- 1/ Centrer la position -->
      <button id="center-btn" onclick="centerOnMe()" title="Me centrer">
        <i class="fas fa-location-arrow"></i>
      </button>
      <!-- 2/ Paramètres de la carte -->
      <button id="settings-btn" onclick="openMapSettings()" title="Paramètres">
        <i class="fas fa-layer-group"></i>
      </button>
      <!-- 3/ Filtre -->
      <button id="filter-btn" onclick="openFilter()" title="Filtrer">
        <i class="fas fa-filter"></i>
      </button>
      <!-- 4/ Liste des lieux proches -->
      <button id="nearby-btn" onclick="openNearbyList()" title="Liste">
        <i class="fas fa-list"></i>
      </button>
      <!-- 5/ Favoris -->
      <button id="favorites-btn" onclick="openPOIModal()" title="Favoris">
        <i class="fas fa-star"></i>
      </button>
    </div>
  </div>

  <!-- 4) Modale d’ajout de favori -->
  <div id="poi-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Ajouter un favori</h2>
      <label for="poi-nom">Nom du point :</label>
      <input type="text" id="poi-nom" placeholder="Ex : Pont de Strasbourg" />
      <label for="poi-description">Description :</label>
      <textarea id="poi-description" rows="3" placeholder="Ex : Point de vue…"></textarea>
      <label for="poi-photos">Ajouter des photos :</label>
      <input type="file" id="poi-photos" accept="image/*" multiple />
      <div id="photo-preview" class="photo-preview"></div>
      <div class="modal-actions">
        <button onclick="submitPOI()">Enregistrer</button>
        <button onclick="closePOIModal()" class="cancel">Annuler</button>
      </div>
    </div>
  </div>

  <!-- 5) Barre de navigation fixe en bas -->
  <nav class="bottom-nav">
    <a href="index.html"   title="Accueil"><i class="fas fa-home"></i></a>
    <a href="carte.html"   class="active" title="Carte"><i class="fas fa-map-marked-alt"></i></a>
    <a href="infos.html"   title="Infos utiles"><i class="fas fa-info-circle"></i></a>
    <a href="favoris.html" title="Favoris"><i class="fas fa-star"></i></a>
  </nav>

  <!-- 6) Ton script Google Maps adapté -->
  <script src="assets/js/map-google.js"></script>
</body>
</html>
